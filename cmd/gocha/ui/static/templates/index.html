<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ú–æ–π –¢–∞–º–∞–≥–æ—á–∏</title>
    <link rel="stylesheet" href="/static/css/style.css">

    <!-- Telegram Web App –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="telegram-web-app" content="true">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">

    <!-- Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="https://telegram.org/js/telegram-web-app.js" as="script">

    <!-- Favicon –¥–ª—è –ª—É—á—à–µ–≥–æ UX -->
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêæ</text></svg>">
</head>
<body>
<main>
    <header>
        <h1>üêæ –ú–æ–π –¢–∞–º–∞–≥–æ—á–∏</h1>
        <p>–ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Å–≤–æ—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –ø–∏—Ç–æ–º—Ü–µ!</p>
    </header>

    <!-- –≠–∫—Ä–∞–Ω: –ø–∏—Ç–æ–º–µ—Ü –Ω–µ –Ω–∞–π–¥–µ–Ω -->
    <div id="createPetScreen" style="display: none; text-align: center; padding: 40px 20px;">
        <h2 style="margin-bottom: 12px;">–£ –≤–∞—Å –µ—â—ë –Ω–µ—Ç –ø–∏—Ç–æ–º—Ü–∞</h2>
        <p style="color: var(--tg-theme-hint-color); margin-bottom: 30px;">
            –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∑–∞–≤–µ—Å—Ç–∏ —Å–≤–æ–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥—Ä—É–≥–∞!
        </p>
        <div class="pet-placeholder">
            <span style="font-size: 80px; margin-bottom: 10px;">üêæ</span>
            <p style="font-size: 14px; opacity: 0.7;">–ù–æ–≤—ã–π –ø–∏—Ç–æ–º–µ—Ü</p>
        </div>
        <div style="margin-bottom: 30px;">
            <input type="text"
                   id="petNameInput"
                   placeholder="–ò–º—è –ø–∏—Ç–æ–º—Ü–∞..."
                   maxlength="20"
                   onkeypress="if(event.key==='Enter') handleMainButtonClick()"
                   style="width: 100%;
                          max-width: 250px;
                          padding: 12px 16px;
                          border: 2px solid var(--tg-theme-section-header-text-color, var(--border));
                          border-radius: 12px;
                          background: var(--tg-theme-secondary-bg-color, var(--surface));
                          color: var(--tg-theme-text-color, var(--text));
                          font-size: 16px;
                          text-align: center;
                          outline: none;
                          transition: all 0.2s ease;">
        </div>
    </div>

    <div class="loading" id="loadingSpinner">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–∞...</p>
    </div>

    <div id="petInfo" class="fade-in" style="display: none;">
        <div class="pet-container" id="petContainer">
            <div class="pet-avatar" id="petAvatar">
                <img id="moodImage" src="" alt="–ü–∏—Ç–æ–º–µ—Ü"
                     style="width: 150px; height: 150px; object-fit: contain; border-radius: 20px; display: none;">
                <div id="emojiAvatar">üê±</div>
            </div>
            <h2 class="pet-name" id="petName">–ú–æ–π –ø–∏—Ç–æ–º–µ—Ü</h2>
            <div class="mood-indicator" id="moodIndicator">üòä</div>
            <div class="status-message" id="statusMessage">–í–∞—à –ø–∏—Ç–æ–º–µ—Ü —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è —Ö–æ—Ä–æ—à–æ!</div>
        </div>

        <div class="stats-grid">
            <div class="stat-card" role="status" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ–ª–æ–¥–∞">
                <div class="stat-icon">üçñ</div>
                <div class="stat-name">–ì–æ–ª–æ–¥</div>
                <div class="stat-value" id="hungerValue">100</div>
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" id="hungerBar"></div>
                </div>
            </div>

            <div class="stat-card" role="status" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á–∞—Å—Ç—å—è">
                <div class="stat-icon">üòä</div>
                <div class="stat-name">–°—á–∞—Å—Ç—å–µ</div>
                <div class="stat-value" id="happinessValue">100</div>
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" id="happinessBar"></div>
                </div>
            </div>

            <div class="stat-card" role="status" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∏—Å—Ç–æ—Ç—ã">
                <div class="stat-icon">üßº</div>
                <div class="stat-name">–ß–∏—Å—Ç–æ—Ç–∞</div>
                <div class="stat-value" id="hygieneValue">100</div>
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" id="hygieneBar"></div>
                </div>
            </div>

            <div class="stat-card" role="status" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è">
                <div class="stat-icon">‚ù§Ô∏è</div>
                <div class="stat-name">–ó–¥–æ—Ä–æ–≤—å–µ</div>
                <div class="stat-value" id="healthValue">100</div>
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" id="healthBar"></div>
                </div>
            </div>

            <div class="stat-card" role="status" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏">
                <div class="stat-icon">üí§</div>
                <div class="stat-name">–≠–Ω–µ—Ä–≥–∏—è</div>
                <div class="stat-value" id="energyValue">100</div>
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" id="energyBar"></div>
                </div>
            </div>

            <div class="stat-card" role="status" aria-label="–í–æ–∑—Ä–∞—Å—Ç –ø–∏—Ç–æ–º—Ü–∞">
                <div class="stat-icon">üéÇ</div>
                <div class="stat-name">–í–æ–∑—Ä–∞—Å—Ç</div>
                <div class="stat-value" id="ageValue">0</div>
                <div class="age-display">–¥–Ω–µ–π</div>
            </div>
        </div>

        <div class="actions-grid" role="group" aria-label="–î–µ–π—Å—Ç–≤–∏—è —Å –ø–∏—Ç–æ–º—Ü–µ–º">
            <button class="action-btn btn-feed" onclick="performAction('feed')"
                    aria-label="–ü–æ–∫–æ—Ä–º–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞">
                <span>üçé</span>
                <span>–ü–æ–∫–æ—Ä–º–∏—Ç—å</span>
            </button>

            <button class="action-btn btn-play" onclick="performAction('play')"
                    aria-label="–ü–æ–∏–≥—Ä–∞—Ç—å —Å –ø–∏—Ç–æ–º—Ü–µ–º">
                <span>üéÆ</span>
                <span>–ò–≥—Ä–∞—Ç—å</span>
            </button>

            <button class="action-btn btn-clean" onclick="performAction('clean')"
                    aria-label="–ü–æ–º—ã—Ç—å –ø–∏—Ç–æ–º—Ü–∞">
                <span>üõÅ</span>
                <span>–ü–æ–º—ã—Ç—å</span>
            </button>

            <button class="action-btn btn-heal" onclick="performAction('heal')"
                    aria-label="–õ–µ—á–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞">
                <span>üíä</span>
                <span>–õ–µ—á–∏—Ç—å</span>
            </button>

            <button class="action-btn btn-sleep" id="sleepBtn" onclick="performAction('sleep')"
                    aria-label="–£–ª–æ–∂–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞ —Å–ø–∞—Ç—å">
                <span>üò¥</span>
                <span>–°–ø–∞—Ç—å</span>
            </button>

            <button class="action-btn btn-wakeup" id="wakeupBtn" onclick="performAction('wakeup')"
                    style="display: none;" aria-label="–†–∞–∑–±—É–¥–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞">
                <span>‚òÄÔ∏è</span>
                <span>–†–∞–∑–±—É–¥–∏—Ç—å</span>
            </button>
        </div>
    </div>


</main>

<!-- Telegram Web App SDK -->
<script src="https://telegram.org/js/telegram-web-app.js?59"></script>

<!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API -->
<script>
    window.API_BASE_URL = "{{.APIBaseURL}}";
</script>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
<script src="/static/js/script.js"></script>

</body>
</html>